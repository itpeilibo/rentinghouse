"use strict";(self["webpackChunkhaoke_dome"]=self["webpackChunkhaoke_dome"]||[]).push([[181],{9806:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var o=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"发布房源","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("div",{staticClass:"fanhyaun"},[t._v("房源信息")]),e("van-cell",{attrs:{title:"小区名称","is-link":"",value:t.$store.state.searchs.search.name,to:"/searchs"}}),e("van-field",{attrs:{label:"租金",value:t.zhujin},scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"wsx"},[t._v("￥/月")])]},proxy:!0}]),model:{value:t.zhujin,callback:function(e){t.zhujin=e},expression:"zhujin"}}),e("van-field",{attrs:{label:"建筑面积",value:t.mianji},scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"wsx"},[t._v("m²")])]},proxy:!0}]),model:{value:t.mianji,callback:function(e){t.mianji=e},expression:"mianji"}}),e("van-popup",{style:{height:"40%"},attrs:{position:"bottom","get-container":"huxing"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[e("van-area",{attrs:{"area-list":t.areaList1},on:{confirm:t.fn1}})],1),e("van-popup",{style:{height:"40%"},attrs:{position:"bottom","get-container":"louceng"},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[e("van-area",{attrs:{"area-list":t.areaList2},on:{confirm:t.fn2}})],1),e("van-popup",{style:{height:"40%"},attrs:{position:"bottom","get-container":"caoxiang"},model:{value:t.show3,callback:function(e){t.show3=e},expression:"show3"}},[e("van-area",{attrs:{"area-list":t.areaList3},on:{confirm:t.fn3}})],1),e("van-cell",{attrs:{title:"户型","is-link":"",value:t.a1,id:"huxing"},on:{click:function(e){t.show1=!0}}}),e("van-cell",{attrs:{title:"所在楼层","is-link":"",value:t.a2,id:"louceng"},on:{click:function(e){t.show2=!0}}}),e("van-cell",{attrs:{title:"朝向","is-link":"",value:t.a3,id:"caoxiang"},on:{click:function(e){t.show3=!0}}}),e("van-cell",{attrs:{title:"房屋标题"}}),e("van-field",{attrs:{placeholder:"请输入标题 (例如：整租小区名2空室5000元)"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e("van-cell",{attrs:{title:"房屋图像"}}),e("van-uploader",{attrs:{multiple:"","after-read":t.afterRead},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}}),e("van-cell",{attrs:{title:"房屋配置"}}),e("van-grid",{attrs:{"column-num":5}},t._l(t.arr,(function(i,o){return e("van-grid-item",{key:o,on:{click:function(e){return t.qqqq(i)}},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"aaaawww",class:{active:i.isshow}},[e("van-icon",{attrs:{name:i.icon}}),e("p",[t._v(t._s(i.text))])],1)]},proxy:!0}],null,!0)})})),1),e("div",{staticClass:"color"}),e("van-cell",{attrs:{title:"房屋描述"}}),e("van-field",{staticStyle:{"margin-bottom":"50px"},attrs:{type:"textarea",placeholder:"请输入房屋描述信息",autosize:{maxHeight:100,minHeight:100}},model:{value:t.miaoshu,callback:function(e){t.miaoshu=e},expression:"miaoshu"}}),e("div",{staticClass:"ssssss"},[e("van-button",{attrs:{type:"default"}},[t._v("取消")]),e("van-button",{attrs:{type:"primary"},on:{click:t.tijiao}},[t._v("提交")])],1)],1)},n=[],s=(i(8146),i(8848)),a=i(6326),l={data(){return{zhujin:"",mianji:"",title:"",miaoshu:"",show1:!1,show2:!1,show3:!1,areaList1:{province_list:{},city_list:{110100:"一室",110200:"二室",110300:"三室",110400:"四室",110500:"四室+"},county_list:{}},areaList2:{province_list:{},city_list:{110100:"高楼层",110200:"中楼层",110300:"低楼层"},county_list:{}},areaList3:{province_list:{},city_list:{110100:"东",110200:"南",110300:"西",110400:"北",110500:"东南",110600:"东北",110700:"西南",110800:"西北"},county_list:{}},arr:[{text:"衣柜",icon:"volume-o",isshow:!1},{text:"洗衣机",icon:"wap-home-o",isshow:!1},{text:"空调",icon:"photo-o",isshow:!1},{text:"天然气",icon:"gift-card-o",isshow:!1},{text:"冰箱",icon:"manager-o",isshow:!1},{text:"暖气",icon:"hot-sale-o",isshow:!1},{text:"电视",icon:"flower-o",isshow:!1},{text:"热水器",icon:"notes-o",isshow:!1},{text:"宽带",icon:"closed-eye",isshow:!1},{text:"沙发",icon:"logistics",isshow:!1}],fileList:[{url:"https://img01.yzcdn.cn/vant/leaf.jpg"},{url:"https://cloud-image",isImage:!0}],obj1:[],obj2:[],obj3:[],roomType:"",floor:"",oriented:"",img:"",peitao:"",img1:"",a1:"请选择",a2:"请选择",a3:"请选择"}},created(){this.housescondition()},methods:{async housescondition(){const t=await(0,a.GN)(this.$store.state.chengshi.id);console.log(t),this.obj1=t.data.body.roomType,this.obj2=t.data.body.floor,this.obj3=t.data.body.oriented},aaa(t){t.target.classList.add("active"),console.log(t),console.log(11)},tijiao(){this.shangchuan()},onClickLeft(){this.$router.push("/")},fn1(t){this.a1=t[1].name,this.show1=!1,this.obj1.forEach((e=>{t[1].name===e.label&&(this.roomType=e.value)}))},fn2(t){this.a2=t[1].name,this.show2=!1,this.obj2.forEach((e=>{t[1].name===e.label&&(this.floor=e.value)}))},fn3(t){this.a3=t[1].name,this.show3=!1,this.obj3.forEach((e=>{t[1].name===e.label&&(this.oriented=e.value)}))},qqqq(t){t.isshow=!t.isshow;const e=[];this.arr.forEach((t=>{t.isshow&&e.push(t.text)})),this.peitao=e.join("|")},afterRead(t){const e=new FormData;e.append("file",t.file),this.img=e,this.housesimage()},async housesimage(){const t=await(0,a.Dz)(this.img);console.log(t),this.img1=t.data.body[0]},async shangchuan(){try{const t=await(0,a.BG)({title:this.title,description:this.miaoshu,houseImg:this.img1,oriented:this.oriented,supporting:this.peitao,price:this.zhujin,roomType:this.roomType,size:this.mianji,floor:this.floor,community:this.$store.state.searchs.search.id},this.$store.state.user);console.log(t),s.Z.success("发布房屋成功"),this.$router.push("/layout/gethome")}catch(t){console.log(t),s.Z.fail("发布房屋失败")}}}},c=l,r=i(1001),u=(0,r.Z)(c,o,n,!1,null,"3c3a6fee",null),h=u.exports},8848:function(t,e,i){i.d(e,{Z:function(){return $}});var o=i(9299),n=i(6369),s=i(3370),a=i(6786),l=0;function c(t){t?(l||document.body.classList.add("van-toast--unclickable"),l++):(l--,l||document.body.classList.remove("van-toast--unclickable"))}var r=i(8995),u=i(9858),h=i(4958),f=(0,a.d)("toast"),d=f[0],m=f[1],v=d({mixins:[(0,r.e)()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var t=this.value&&this.forbidClick;this.clickable!==t&&(this.clickable=t,c(t))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var t=this.$createElement,e=this.icon,i=this.type,o=this.iconPrefix,n=this.loadingType,s=e||"success"===i||"fail"===i;return s?t(u.Z,{class:m("icon"),attrs:{classPrefix:o,name:e||i}}):"loading"===i?t(h.Z,{class:m("loading"),attrs:{type:n}}):void 0},genMessage:function(){var t=this.$createElement,e=this.type,i=this.message;if((0,s.Xq)(i)&&""!==i)return"html"===e?t("div",{class:m("text"),domProps:{innerHTML:i}}):t("div",{class:m("text")},[i])}},render:function(){var t,e=arguments[0];return e("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[e("div",{directives:[{name:"show",value:this.value}],class:[m([this.position,(t={},t[this.type]=!this.icon,t)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),p=i(1015),g={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},y={},k=[],b=!1,w=(0,o.Z)({},g);function x(t){return(0,s.Kn)(t)?t:{message:t}}function C(t){return document.body.contains(t)}function j(){if(s.sk)return{};if(k=k.filter((function(t){return!t.$el.parentNode||C(t.$el)})),!k.length||b){var t=new(n.ZP.extend(v))({el:document.createElement("div")});t.$on("input",(function(e){t.value=e})),k.push(t)}return k[k.length-1]}function _(t){return(0,o.Z)({},t,{overlay:t.mask||t.overlay,mask:void 0,duration:void 0})}function L(t){void 0===t&&(t={});var e=j();return e.value&&e.updateZIndex(),t=x(t),t=(0,o.Z)({},w,y[t.type||w.type],t),t.clear=function(){e.value=!1,t.onClose&&(t.onClose(),t.onClose=null),b&&!s.sk&&e.$on("closed",(function(){clearTimeout(e.timer),k=k.filter((function(t){return t!==e})),(0,p.Z)(e.$el),e.$destroy()}))},(0,o.Z)(e,_(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout((function(){e.clear()}),t.duration)),e}var Z=function(t){return function(e){return L((0,o.Z)({type:t},x(e)))}};["loading","success","fail"].forEach((function(t){L[t]=Z(t)})),L.clear=function(t){k.length&&(t?(k.forEach((function(t){t.clear()})),k=[]):b?k.shift().clear():k[0].clear())},L.setDefaultOptions=function(t,e){"string"===typeof t?y[t]=e:(0,o.Z)(w,t)},L.resetDefaultOptions=function(t){"string"===typeof t?y[t]=null:(w=(0,o.Z)({},g),y={})},L.allowMultiple=function(t){void 0===t&&(t=!0),b=t},L.install=function(){n.ZP.use(v)},n.ZP.prototype.$toast=L;var $=L},8146:function(t,e,i){i(1958),i(6196),i(3332),i(6742),i(2666),i(2939)}}]);
//# sourceMappingURL=181.c59d8a24.js.map